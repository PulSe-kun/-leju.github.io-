(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e1830fc"],{"2cd3":function(t,e,a){"use strict";a("e7a9")},"959c":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return l})),a.d(e,"d",(function(){return s})),a.d(e,"e",(function(){return i})),a.d(e,"c",(function(){return c}));a("99af");var r=a("b775");function n(t,e){return Object(r["a"])({url:"/lejuAdmin/orderReturn/agreeApply/".concat(t),method:"post",data:e})}function l(t,e,a){return Object(r["a"])({url:"/lejuAdmin/orderReturn/findReturnApply/".concat(t,"/").concat(e),method:"post",data:a})}function s(t,e){return Object(r["a"])({url:"/lejuAdmin/orderReturn/receiveProduct/".concat(t),method:"post",data:e})}function i(t,e){return Object(r["a"])({url:"/lejuAdmin/orderReturn/rejectApply/".concat(t),method:"post",data:e})}function c(t){return Object(r["a"])({url:"/lejuAdmin/orderReturn/".concat(t)})}},b82d:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"orderDetail"},[a("el-card",{attrs:{shadow:"always","body-style":{padding:"30px"}}},[a("div",{staticClass:"content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"title"},[t._v(" 订单信息: "),a("span",[a("el-tag",{attrs:{type:t.tagType}},[t._v(t._s(t._f("filterVal")(t.backDetail.status)))])],1)]),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6,offset:0}},[t._v("订单编号: "+t._s(t.backDetail.orderSn))]),a("el-col",{attrs:{span:6,offset:0}},[t._v("退单人姓名: "),a("span",[t._v(t._s(t.backDetail.receiveMan))])]),a("el-col",{attrs:{span:6,offset:0}},[t._v("退单理由: "),a("span",[t._v(t._s(t.backDetail.reason))])]),a("el-col",{attrs:{span:6,offset:0}},[t._v("退单描述: "),a("span",[t._v(t._s(t.backDetail.description))])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,offset:0}},[t._v("申请时间: "+t._s(t.backDetail.createTime))])],1)],1),a("el-divider"),a("div",{staticClass:"row"},[a("div",{staticClass:"title"},[t._v("退货商品:")]),a("el-table",{attrs:{data:t.backList,border:""}},[a("el-table-column",{attrs:{prop:"productPic",label:"商品图片",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticClass:"list_img",staticStyle:{width:"100px",height:"100px",display:"block",margin:"0 auto"},attrs:{src:t.row.productPic,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"productName",label:"商品描述",align:"center",width:"200"}}),a("el-table-column",{attrs:{prop:"productRealPrice",label:"商品价格",align:"center",width:"160"}}),a("el-table-column",{attrs:{prop:"productAttr",label:"商品属性",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(t._f("filterGoods")(e.row.productAttr))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"productCount",label:"商品数量",align:"center",width:"160"}}),a("el-table-column",{attrs:{label:"总计",width:"160px",align:"center",prop:"productRealPrice"}})],1)],1),a("el-divider"),a("div",{staticClass:"title"},[t._v(" 用户信息: ")]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[t._v("联系人: "+t._s(t.backDetail.returnName))]),a("el-col",{attrs:{span:6}},[t._v("联系电话: "),a("span",[t._v(t._s(t.backDetail.returnPhone))])])],1),a("el-divider"),a("div",{staticClass:"title"},[t._v(" 费用信息: ")]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[t._v("退单金额: "),a("span",{class:2==t.backDetail.status?"":"active"},[t._v(t._s(t.backDetail.returnAmount))])]),a("el-col",{attrs:{span:6}},[t._v("运费金额: "),a("span",[t._v("0")])])],1),a("el-divider"),0==t.backDetail.status?a("div",{staticStyle:{"padding-top":"10px"}},[a("el-form",{ref:"handleForm",attrs:{model:t.handleForm,rules:t.handleRules,size:"mini","label-position":"left"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,offset:0}},[a("el-form-item",{attrs:{prop:"returnAmount",label:"退款金额"}},[a("el-input-number",{staticClass:"myInput",attrs:{placeholder:"",size:"mini"},model:{value:t.handleForm.returnAmount,callback:function(e){t.$set(t.handleForm,"returnAmount",e)},expression:"handleForm.returnAmount"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"handleMan",label:"处理人","label-width":"80px"}},[a("el-input",{staticClass:"myInput",attrs:{type:"text",placeholder:"",size:"mini"},model:{value:t.handleForm.handleMan,callback:function(e){t.$set(t.handleForm,"handleMan",e)},expression:"handleForm.handleMan"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"handleNote",label:"处理备注","label-width":"80px"}},[a("el-input",{staticClass:"myInput",attrs:{type:"text",placeholder:"",size:"mini"},model:{value:t.handleForm.handleNote,callback:function(e){t.$set(t.handleForm,"handleNote",e)},expression:"handleForm.handleNote"}})],1)],1)],1)],1)],1):t._e(),1==t.backDetail.status?a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"title"},[t._v("处理结果:")]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[t._v("处理人: "+t._s(t.backDetail.handleMan))]),a("el-col",{attrs:{span:6}},[t._v("处理备注: "),a("span",[t._v(t._s(t.backDetail.handleNote))])]),a("el-col",{attrs:{span:6}},[t._v("处理时间: "),a("span",[t._v(t._s(t.backDetail.handleTime))])])],1),a("div",{staticStyle:{"padding-top":"10px"}},[a("el-form",{ref:"handleForm",attrs:{model:t.handleForm,rules:t.receiveRules,size:"mini","label-position":"left"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"receiveMan",label:"收货人","label-width":"80px"}},[a("el-input",{staticClass:"myInput",attrs:{type:"text",placeholder:"",size:"mini"},model:{value:t.handleForm.receiveMan,callback:function(e){t.$set(t.handleForm,"receiveMan",e)},expression:"handleForm.receiveMan"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"receiveNote",label:"收货备注","label-width":"80px"}},[a("el-input",{staticClass:"myInput",attrs:{type:"text",placeholder:"",size:"mini"},model:{value:t.handleForm.receiveNote,callback:function(e){t.$set(t.handleForm,"receiveNote",e)},expression:"handleForm.receiveNote"}})],1)],1)],1)],1)],1)],1)]):t._e(),t.backDetail.status>=2?a("div",{staticClass:"row"},[a("div",{staticClass:"title"},[t._v(" 处理结果: ")]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[t._v("处理人: "+t._s(t.backDetail.handleMan))]),a("el-col",{attrs:{span:6}},[t._v("处理备注: "),a("span",[t._v(t._s(t.backDetail.handleNote))])]),a("el-col",{attrs:{span:6}},[t._v("处理时间: "),a("span",[t._v(t._s(t.backDetail.handleTime))])])],1)],1):t._e(),a("div",{staticClass:"btn"},[0===t.backDetail.status?a("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary",size:"small"},on:{click:t.agreeReturn}},[t._v("同意退款 ")]):t._e(),1===t.backDetail.status?a("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary",size:"small"},on:{click:t.receiveReturn}},[t._v("确认收货 ")]):t._e(),0===t.backDetail.status?a("el-button",{staticStyle:{width:"150px"},attrs:{size:"small"},on:{click:t.rejectReturn}},[t._v("拒绝退款 ")]):t._e()],1)],1)])],1)},n=[],l=(a("d3b7"),a("959c")),s={filters:{filterVal:function(t){var e=["待处理","退货中","已完成","已拒绝"];return e[t]},filterGoods:function(t){if("string"===typeof t){var e=JSON.parse(t);return e.reduce((function(t,e){return t+e.key+":"+e.value+"   "}),"")}return t.reduce((function(t,e){return t+e.key+":"+e.value+"   "}),"")}},data:function(){return{backDetail:{},backList:[],tagType:"",handleForm:{id:this.$route.query.id,returnAmount:0,handleNote:"",handleMan:"",receiveNote:"",receiveMan:""},handleRules:{handleMan:[{required:!0,message:"处理人姓名",trigger:"blur"}],handleNote:[{required:!0,message:"处理人备注",trigger:"blur"}]},receiveRules:{receiveMan:[{required:!0,message:"收货人姓名",trigger:"blur"}],receiveNote:[{required:!0,message:"收货人备注",trigger:"blur"}]}}},computed:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var t=this;Object(l["c"])(this.$route.query.id).then((function(e){0===e.data.orderReturnApply.status?t.tagType="danger":1===e.data.orderReturnApply.status?t.tagType="warning":2===e.data.orderReturnApply.status?t.tagType="":t.tagType="info",t.backDetail=e.data.orderReturnApply;var a={productPic:t.backDetail.productPic,productName:t.backDetail.productName,productAttr:t.backDetail.productAttr,productCount:t.backDetail.productCount,productBrand:t.backDetail.productBrand,productRealPrice:t.backDetail.productRealPrice,returnAmount:t.backDetail.returnAmount};t.backList.push(a)}))},agreeReturn:function(){var t=this;this.$confirm("注意 同意退款操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",lockScroll:!1}).then((function(e){Object(l["a"])(t.backDetail.id,t.handleForm).then((function(e){e.success&&(t.$message({type:"success",message:"操作成功!"}),t.init())}))})).catch((function(){t.$message({type:"info",message:"已取消操作"})}))},receiveReturn:function(){var t=this;this.$confirm("注意 已收取客户退回商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",lockScroll:!1}).then((function(e){Object(l["d"])(t.backDetail.id,t.handleForm).then((function(e){e.success&&(t.$message({type:"success",message:"操作成功!"}),t.init())}))})).catch((function(){t.$message({type:"info",message:"已取消操作"})}))},rejectReturn:function(){var t=this;this.$confirm("注意 拒绝退款?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",lockScroll:!1}).then((function(e){Object(l["e"])(t.backDetail.id,t.handleForm).then((function(e){e.success&&(t.$message({type:"success",message:"操作成功!"}),t.init())}))})).catch((function(){t.$message({type:"info",message:"已取消操作"})}))}}},i=s,c=(a("2cd3"),a("2877")),o=Object(c["a"])(i,r,n,!1,null,"76e7a783",null);e["default"]=o.exports},e7a9:function(t,e,a){}}]);