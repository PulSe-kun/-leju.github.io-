(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5178a4de"],{"646e":function(e,t,n){"use strict";n("eb0a")},8298:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"article"},[n("el-card",{staticClass:"margin_30"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("el-button",{staticStyle:{float:"left"},attrs:{type:"primary",size:"mini"},on:{click:e.addAddress}},[e._v("新增")])],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.addressList,border:""}},[n("el-table-column",{attrs:{type:"index",fixed:"left",label:"#",align:"center",width:"40"}}),n("el-table-column",{attrs:{prop:"addressName",label:"地址名称",align:"center",width:"200"}}),n("el-table-column",{attrs:{prop:"sendStatus",label:"默认发货地址",align:"center",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticStyle:{"margin-right":"10px"}},[e._v("默认发货地址")]),n("el-switch",{on:{change:function(n){return e.changeStatus(t.row.id)}},model:{value:t.row.sendStatus,callback:function(n){e.$set(t.row,"sendStatus",n)},expression:"scope.row.sendStatus"}})]}}])}),n("span"),n("el-table-column",{attrs:{prop:"name",label:"收货人姓名",align:"center",width:"160"}}),n("el-table-column",{attrs:{prop:"phone",label:"收货人电话",align:"center",width:"160"}}),n("el-table-column",{attrs:{label:"收货人地址",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("p",[e._v(" "+e._s(t.row.province)+"-"+e._s(t.row.city)+"-"+e._s(t.row.region)+" ")])]}}])}),n("el-table-column",{attrs:{prop:"receiveStatus",label:"默认收货地址",align:"center",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticStyle:{"margin-right":"10px"}},[e._v("默认收货地址")]),n("el-switch",{on:{change:function(n){return e.receiveStatus(t.row.id)}},model:{value:t.row.receiveStatus,callback:function(n){e.$set(t.row,"receiveStatus",n)},expression:"scope.row.receiveStatus"}})]}}])}),n("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center",width:"200"}}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-link",{staticStyle:{padding:"0 10px"},attrs:{type:"primary",underline:!1},on:{click:function(n){return e.edit(t.row)}}},[e._v("编辑")]),n("el-link",{attrs:{type:"danger",underline:!1},on:{click:function(n){return e.del(t.row)}}},[e._v("删除")])]}}])})],1)],1),n("el-dialog",{attrs:{title:"地址详情",visible:e.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.closed}},[n("el-form",{ref:"formInline",attrs:{model:e.formInline,rules:e.rules}},[n("el-form-item",{attrs:{label:"发货地址","label-width":e.formLabelWidth,prop:"addressName"}},[n("el-input",{attrs:{autocomplete:"off",placeholder:"发货地址"},model:{value:e.formInline.addressName,callback:function(t){e.$set(e.formInline,"addressName",t)},expression:"formInline.addressName"}})],1),n("el-form-item",{attrs:{label:"\n          发货人姓名","label-width":e.formLabelWidth,prop:"name"}},[n("el-input",{attrs:{autocomplete:"off",placeholder:"发货人姓名"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),n("el-form-item",{attrs:{label:"发货人手机号","label-width":e.formLabelWidth,prop:"phone"}},[n("el-input",{attrs:{autocomplete:"off",placeholder:"发货人手机号"},model:{value:e.formInline.phone,callback:function(t){e.$set(e.formInline,"phone",t)},expression:"formInline.phone"}})],1),n("el-form-item",{attrs:{label:"邮政编码","label-width":e.formLabelWidth}},[n("el-input",{attrs:{autocomplete:"off",placeholder:"邮政编码"},model:{value:e.formInline.cityCode,callback:function(t){e.$set(e.formInline,"cityCode",t)},expression:"formInline.cityCode"}})],1),n("el-form-item",{attrs:{label:"收货地址","label-width":e.formLabelWidth}},[n("el-cascader",{attrs:{size:"large",options:e.options},on:{change:e.handleChange},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1),n("el-form-item",{attrs:{label:"详细地址","label-width":e.formLabelWidth}},[n("el-input",{attrs:{autocomplete:"off",placeholder:"详细地址"},model:{value:e.formInline.detailAddress,callback:function(t){e.$set(e.formInline,"detailAddress",t)},expression:"formInline.detailAddress"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.sure}},[e._v("确 定")])],1)],1)],1)},s=[],a=(n("d3b7"),n("159b"),n("a15b"),n("ac1f"),n("1276"),n("b775"));function l(){return Object(a["a"])({url:"/lejuAdmin/companyAddress/addressList"})}function o(e){return Object(a["a"])({url:"/lejuAdmin/companyAddress/setReceiveOne",method:"post",data:e})}function r(e){return Object(a["a"])({url:"/lejuAdmin/companyAddress/setSendOne",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/lejuAdmin/companyAddress/".concat(e),method:"delete",id:e})}function d(e){return Object(a["a"])({url:"/lejuAdmin/companyAddress/save",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/lejuAdmin/companyAddress/update",method:"post",data:e})}var m=n("ef6c"),f={data:function(){return{addressList:[],formLabelWidth:"100px",dialogFormVisible:!1,formInline:{addressName:"",city:"",cityCode:"",createTime:"",detailAddress:"",id:"",modifyTime:"",name:"",phone:"",postCode:"",province:"",receiveStatus:0,region:"",sendStatus:0},options:m["regionDataPlus"],selectedOptions:[],rules:{addressName:[{required:!0,message:"请输入发货地址",trigger:"blur"}],name:[{required:!0,message:"请输入发货人姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入发货人手机号",trigger:"blur"},{min:5,max:11,message:"长度在 5 到 11个字符",trigger:"blur"}]}}},computed:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=this;l().then((function(t){t.data.items.forEach((function(e){e.sendStatus=!!e.sendStatus,e.receiveStatus=!!e.receiveStatus})),e.addressList=t.data.items}))},changeStatus:function(e){var t=this;r({id:e}).then((function(e){e.success&&(t.$message({type:"success",message:"设置默认发货地址成功!"}),t.init())}))},receiveStatus:function(e){var t=this;o({id:e}).then((function(e){e.success&&(t.$message({type:"success",message:"设置默认收货地址成功!"}),t.init())}))},addAddress:function(){this.dialogFormVisible=!this.dialogFormVisible},handleChange:function(e){this.formInline.province=m["CodeToText"][e[0]],this.formInline.city=m["CodeToText"][e[1]],this.formInline.region=m["CodeToText"][e[2]],this.formInline.cityCode=e.join(",")},sure:function(){var e=this;this.formInline.id?(this.formInline.sendStatus=this.formInline.sendStatus?1:0,this.formInline.receiveStatus=this.formInline.receiveStatus?1:0,u(this.formInline).then((function(t){e.$message({type:"success",message:"修改地址成功!"}),e.dialogFormVisible=!1,e.init()}))):d(this.formInline).then((function(t){e.$message({type:"success",message:"新增地址成功!"}),e.dialogFormVisible=!1,e.init()}))},closed:function(){this.selectedOptions=[],this.formInline={addressName:"",city:"",cityCode:"",createTime:"",detailAddress:"",id:"",modifyTime:"",name:"",phone:"",postCode:"",province:"",receiveStatus:0,region:"",sendStatus:0}},edit:function(e){this.dialogFormVisible=!0,this.selectedOptions=e.cityCode.split(","),this.formInline=e},del:function(e){var t=this;this.$confirm("注意 将永久删除该地址!","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",lockScroll:!1}).then((function(n){c(e.id).then((function(e){e.success&&(t.$message({type:"success",message:"删除成功!"}),t.init())}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},p=f,h=(n("646e"),n("2877")),b=Object(h["a"])(p,i,s,!1,null,null,null);t["default"]=b.exports},eb0a:function(e,t,n){}}]);