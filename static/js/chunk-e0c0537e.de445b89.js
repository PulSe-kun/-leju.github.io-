(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e0c0537e"],{"441d":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"f",(function(){return l})),a.d(e,"e",(function(){return o})),a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"d",(function(){return c})),a.d(e,"g",(function(){return u}));var n=a("b775");function r(t){return Object(n["a"])({url:"/lejuAdmin/homeRecommend/addRecommend",method:"post",data:t})}function l(){return Object(n["a"])({url:"/lejuAdmin/homeRecommend/findAllRecommends"})}function o(t){return Object(n["a"])({url:"/lejuAdmin/homeRecommend/delRecommend/".concat(t),method:"delete"})}function i(t){return Object(n["a"])({url:"/lejuAdmin/advertise/addAds",method:"post",data:t})}function s(){return Object(n["a"])({url:"/lejuAdmin/advertise/adsList"})}function c(t){return Object(n["a"])({url:"/lejuAdmin/advertise/delAds/".concat(t),method:"delete"})}function u(t){return Object(n["a"])({url:"/lejuAdmin/advertise/updateAds",method:"post",data:t})}},4624:function(t,e,a){"use strict";var n=a("7859"),r=a("b63a"),l={data:function(){return{datalist:[],start:1,limit:10,total:0,headers:{token:Object(n["b"])()}}},methods:{handleSizeChange:function(t){this.limit=t,this.init()},handleCurrentChange:function(t){this.start=t,this.init()},$imgAdd:function(t,e){var a=this,n=new FormData;n.append("file",e),Object(r["g"])(n).then((function(e){a.$refs.md.$img2Url(t,e.data.fileUrl)}))}}};e["a"]=l},7060:function(t,e,a){},"924f":function(t,e,a){"use strict";a("7060")},b63a:function(t,e,a){"use strict";a.d(e,"d",(function(){return r})),a.d(e,"f",(function(){return o})),a.d(e,"c",(function(){return i})),a.d(e,"b",(function(){return l})),a.d(e,"a",(function(){return s})),a.d(e,"g",(function(){return c})),a.d(e,"e",(function(){return u}));a("99af");var n=a("b775");function r(t,e,a){return Object(n["a"])({url:"/lejuAdmin/productArticle/findArticles/".concat(t,"/").concat(e),method:"post",data:a})}function l(t){return Object(n["a"])({url:"/lejuAdmin/productArticle/changeShowStatus",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/lejuAdmin/productArticle/updateArticle",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/lejuAdmin/productArticle/del/".concat(t),method:"delete"})}function s(t){return Object(n["a"])({url:"/lejuAdmin/productArticle/addArticle",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/lejuAdmin/material/uploadFileOss",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/lejuAdmin/productArticle/productArticle/".concat(t)})}},d9de:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"advertising"},[a("el-card",{staticClass:"margin_30"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary",size:"small"},on:{click:t.add}},[t._v("新增")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.adsList,border:""}},[a("el-table-column",{attrs:{type:"index",fixed:"left",label:"序号",align:"center",width:"60"}}),a("el-table-column",{attrs:{prop:"pic",label:"广告图片",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticClass:"list_img",staticStyle:{width:"100px",height:"100px",display:"block",margin:"0 auto"},attrs:{src:t.row.pic,alt:""}})]}}])}),a("el-table-column",{attrs:{label:"活动时间",align:"center",width:"260"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("开始时间: "+t._s(e.row.startTime))]),a("div",[t._v("结束时间: "+t._s(e.row.endTime))])]}}])}),a("el-table-column",{attrs:{prop:"name",label:"广告名称",align:"center",width:"200"}}),a("el-table-column",{attrs:{prop:"clickCount",label:"点击数",align:"center",width:"160"}}),a("el-table-column",{attrs:{prop:"orderCount",label:"下单数",align:"center",width:"160"}}),a("el-table-column",{attrs:{prop:"type",label:"轮播位置",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(0===e.row.type?"首页轮播":"其他"))])]}}])}),a("el-table-column",{attrs:{prop:"url",label:"链接地址",align:"center",width:"200"}}),a("el-table-column",{attrs:{prop:"note",label:"备注",align:"center",width:"160"}}),a("el-table-column",{attrs:{prop:"status",label:"上下线状态",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(1===e.row.status?"上线":"下线"))])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.edit(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return t.del(e.row)}}},[t._v("删除")])]}}])})],1)],1),a("el-dialog",{attrs:{title:"广告详情",visible:t.adsDialog,width:"50%"},on:{"update:visible":function(e){t.adsDialog=e},close:t.closed}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px",inline:!1,size:"normal",rules:t.rules}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"广告名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"广告名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"备注"},model:{value:t.form.note,callback:function(e){t.$set(t.form,"note",e)},expression:"form.note"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{attrs:{placeholder:"排序"},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1)],1),a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"产品数量"}},[a("el-input",{attrs:{placeholder:"产品数量"},model:{value:t.form.orderCount,callback:function(e){t.$set(t.form,"orderCount",e)},expression:"form.orderCount"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"链接"}},[a("el-input",{attrs:{placeholder:"链接"},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1)],1),a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"首页轮播位置"}},[a("el-select",{attrs:{placeholder:"请选择轮播位置",clearable:"true"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-option",{attrs:{label:"首页轮播",value:"0"}}),a("el-option",{attrs:{label:"其他",value:"1"}})],1)],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"开始时间"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期时间","value-format":"yyyy-MM-dd HH:MM:ss"},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}})],1)])],1),a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"结束时间"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:MM:ss",placeholder:"选择日期时间"},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1)])],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"上下线状态"}},[a("el-switch",{on:{change:t.changeStatus},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)],1),a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"图片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://leju.bufan.cloud/lejuAdmin/material/uploadFileOss","show-file-list":!1,multiple:!1,limit:1,headers:t.headers,"on-success":t.handleAvatar}},[t.form.pic?a("img",{staticClass:"avatar",staticStyle:{width:"140px",height:"140px"},attrs:{src:t.form.pic}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1)],1),a("div",{staticClass:"item"},[a("el-button",{attrs:{size:"normal"},on:{click:t.cancel}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",size:"normal"},on:{click:t.onSubmit}},[t._v("确定")])],1)],1)],1)},r=[],l=(a("b0c0"),a("441d")),o=a("4624"),i={mixins:[o["a"]],data:function(){return{adsList:[],adsDialog:!1,form:{clickCount:"",createTime:"",endTime:"",id:"",modifyTime:"",name:"",note:"",orderCount:"",pic:"",productId:"",sort:"",startTime:"",status:!0,type:"",url:""},rules:{name:[{required:!0,message:"请输入广告名称",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10个字符",trigger:"blur"}]}}},computed:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var t=this;Object(l["c"])().then((function(e){t.adsList=e.data.items}))},add:function(){this.adsDialog=!this.adsDialog},handleAvatar:function(t){this.form.pic=t.data.fileUrl},cancel:function(){this.adsDialog=!this.adsDialog},changeStatus:function(t){},edit:function(t){t.status=!!t.status,t.type="",this.form=t,this.adsDialog=!this.adsDialog},del:function(t){var e=this;this.$confirm("注意 将永久删除该信息!","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",lockScroll:!1}).then((function(a){Object(l["d"])(t.id).then((function(t){t.success&&(e.$message({type:"success",message:"删除成功!"}),e.init())}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},closed:function(){this.form={clickCount:"",createTime:"",endTime:"",id:"",modifyTime:"",name:"",note:"",orderCount:"",pic:"",productId:"",sort:"",startTime:"",status:!0,type:"",url:""},this.init()},onSubmit:function(){var t=this;if(this.form.status=this.form.status?1:0,!this.form.name)return this.$message.warning("广告名称不能为空!"),!1;this.form.id?this.$confirm("注意 将更新该信息!","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",lockScroll:!1}).then((function(e){Object(l["g"])(t.form).then((function(e){e.success&&(t.$message({type:"success",message:"更新成功!"}),t.adsDialog=!t.adsDialog,t.init())}))})).catch((function(){t.$message({type:"info",message:"已取消更新"})})):this.$confirm("注意 是否新增商品广告!","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",lockScroll:!1}).then((function(e){Object(l["a"])(t.form).then((function(e){e.success&&(t.$message({type:"success",message:"添加成功!"}),t.adsDialog=!t.adsDialog,t.init())}))})).catch((function(){t.$message({type:"info",message:"已取消添加"})}))}}},s=i,c=(a("924f"),a("2877")),u=Object(c["a"])(s,n,r,!1,null,"71852984",null);e["default"]=u.exports}}]);